int compareType(const void*a,const void*b){
    return *(int*)a-*(int*)b;
}

int maximumProduct(int* nums, int numsSize) {
    //if(numsSize==3) return nums[0]*nums[1]*nums[2];
    qsort(nums,numsSize,sizeof(nums[0]),compareType);
    if(nums[numsSize-1]==0) return 0;
    else if(nums[numsSize-1]<0) return nums[numsSize-1]*nums[numsSize-2]*nums[numsSize-3];
    else if(nums[numsSize-2]<=0) return nums[0]*nums[1]*nums[numsSize-1];
    else if(nums[numsSize-3]==0) return 0;
    else if(nums[numsSize-3]<0) {
        int a = nums[numsSize-1]*nums[numsSize-2]*nums[numsSize-3];
        int b = nums[numsSize-4]*nums[numsSize-2]*nums[numsSize-3];
        int c = nums[numsSize-4]*nums[numsSize-5]*nums[numsSize-3];
        b = b<c?c:b;
        return a>b?a:b;
    }
    else{
        int a = nums[numsSize-1]*nums[numsSize-2]*nums[numsSize-3];
        int b = nums[numsSize-1]*nums[0]*nums[1];
        return a>b?a:b;
    }
}
